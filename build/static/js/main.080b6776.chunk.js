(this["webpackJsonpcrypto-comet"]=this["webpackJsonpcrypto-comet"]||[]).push([[0],{122:function(e,a,t){},123:function(e,a,t){"use strict";t.r(a);var s=t(1),n=t.n(s),c=t(29),r=t.n(c),i=t(131),l=t(48),d=t(132),o=t(38),j=t.p+"static/media/cryptoicon.4beb6e3a.svg",m=t(2);var b=function(){return Object(m.jsx)(i.a,{bg:"light",expand:"md",className:"m-0 border-bottom border-dark","data-test-id":"navigation",children:Object(m.jsxs)(l.a,{className:"d-flex",children:[Object(m.jsx)(o.LinkContainer,{to:"/",children:Object(m.jsxs)(i.a.Brand,{href:"/",className:"d-flex",children:[Object(m.jsx)("div",{className:"d-flex",children:Object(m.jsx)("h3",{className:"my-auto p-0 me-sm-3",children:"Crypto Comet"})}),Object(m.jsx)("div",{children:Object(m.jsx)("img",{src:j,width:"50",height:"50",className:"d-inline-block bg-light",alt:"Crypto Comet logo"})})]})}),Object(m.jsx)(i.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(m.jsx)(i.a.Collapse,{id:"basic-navbar-nav",children:Object(m.jsxs)(d.a,{className:"me-auto",children:[Object(m.jsx)(o.LinkContainer,{to:"/",children:Object(m.jsx)(d.a.Link,{href:"/",children:"Dashboard"})}),Object(m.jsx)(o.LinkContainer,{to:"/search",children:Object(m.jsx)(d.a.Link,{href:"/search",children:"Search"})}),Object(m.jsx)(o.LinkContainer,{to:"/news",className:"d-lg-none",children:Object(m.jsx)(d.a.Link,{href:"/news",children:"News"})}),Object(m.jsx)(o.LinkContainer,{to:"/trends",className:"d-lg-none",children:Object(m.jsx)(d.a.Link,{href:"/trends",children:"Trends"})})]})})]})})},x=t(21),u=t(11),h=t(10),f=t(35),O=t.n(f);function p(e){console.log("http://localhost:5000/api");var a=Object(h.r)().pathname,t=Object(s.useState)(!0),n=Object(u.a)(t,2),c=n[0],r=n[1],i=Object(s.useState)(null),l=Object(u.a)(i,2),d=l[0],o=l[1],j=Object(s.useState)(null),b=Object(u.a)(j,2),f=b[0],p=b[1],v=Object(s.useState)(null),g=Object(u.a)(v,2),N=g[0],y=g[1],k=Object(s.useState)(null),w=Object(u.a)(k,2),C=w[0],F=w[1],S=Object(s.useState)([]),L=Object(u.a)(S,2),D=L[0],H=L[1],T=Object(s.useState)([]),_=Object(u.a)(T,2),z=_[0],P=_[1],E=Object(s.useState)(null),A=Object(u.a)(E,2),B=A[0],I=A[1];Object(s.useEffect)((function(){R()}),[]),Object(s.useEffect)((function(){"/search"!==a&&P(D)}),[a]);var R=function(){r(!0);var e="".concat("http://localhost:5000/api","/coins"),a="".concat("http://localhost:5000/api","/trending"),t="".concat("http://localhost:5000/api","/news"),s=O.a.get(e),n=O.a.get(a),c=O.a.get(t);O.a.all([s,n,c]).then(O.a.spread((function(){var e=arguments.length<=0?void 0:arguments[0],a=arguments.length<=1?void 0:arguments[1],t=arguments.length<=2?void 0:arguments[2];o([{name:e.data.coins[0].name,image:e.data.coins[0].image,data:e.data.fav}]),p({name:e.data.coins[0].name,image:e.data.coins[0].image,data:e.data.fav}),y(a.data.coins),F(t.data.results),H(e.data.coins),P(e.data.coins),r(!1)}))).catch((function(e){console.log(e),I(B)}))},$=Object(s.cloneElement)(e.routes,{dashLoading:c,favs:d,trends:N,news:C,currentFav:f,favsHandler:function(e){p(d[e])},removeFav:function(e){d[e]===f?(0===e&&p(d[e+1]),0!==e&&p(d[e-1]),o(d.filter((function(a){return a!==d[e]})))):o(d.filter((function(a){return a!==d[e]})))},state:D,data:z,setData:P,addFav:function(e){var a=e.id;if(function(e,a){return!e.find((function(e){return e.name.toLowerCase()===a}))}(d,a)){var t="".concat("http://localhost:5000/api","/fav?id=").concat(a);O()({url:t}).then((function(a){0===d.length&&p({name:e.name,image:e.image,data:a.data}),o([].concat(Object(x.a)(d),[{name:e.name,image:e.image,data:a.data}]))})).catch((function(e){console.log(e),I(e)}))}},error:B});return Object(m.jsx)(m.Fragment,{children:$})}var v=t(64),g=t.n(v);t(120);var N=function(){return Object(m.jsx)(l.a,{fluid:!0,className:"min-vh-100 d-flex justify-content-center",children:Object(m.jsx)(g.a,{className:"my-auto",type:"TailSpin",color:"cornflowerblue",height:75,width:75,timeout:3e3})})},y=t(65);var k=function(e){var a=e.favs.map((function(a,t){return Object(m.jsx)("div",{className:"d-flex align-items-center mb-1 p-1 ".concat(a.name===e.currentFav.name?"selected-fav-wrapper":null),children:Object(m.jsxs)("div",{className:"fav d-flex border border-light rounded-1 my-auto w-100 ".concat(a.name===e.currentFav.name?"selected-fav-element":null),onClick:function(){return e.favsHandler(t)},children:[Object(m.jsx)("div",{className:"ms-1 my-auto d-flex",children:Object(m.jsx)("img",{src:a.image,style:{height:"20px"},className:"my-auto"})}),Object(m.jsx)("div",{className:"my-auto ms-2 text-light",style:{fontSize:"1em"},children:a.name}),Object(m.jsx)("div",{className:"ms-auto mb-auto me-1 text-light d-flex",onClick:function(a){a.stopPropagation(),e.removeFav(t)},children:Object(m.jsx)(y.a,{className:"mt-1"})})]})},t)}));return Object(m.jsxs)(l.a,{fluid:!0,className:"",children:[Object(m.jsx)("h5",{className:"bg-dark text-light m-0 mb-2 ms-1 mt-1",children:"Favourites"}),0!=e.favs.length&&a,e.favs.length<=1&&Object(m.jsx)("p",{className:"bg-dark text-primary ms-1",style:{fontSize:"0.8em"},children:"Add favourites from search page"})]})},w=t(127),C=t(66);var F=function(e){var a=e.trends.map((function(e,a){return Object(m.jsxs)(l.a,{fluid:!0,className:"p-0 px-1 d-flex justify-content-between mb-2 rounded-1 shadow-sm",children:[Object(m.jsx)(w.a,{xs:1,className:"my-auto mx-2",children:"".concat(a+1,".")}),Object(m.jsx)(w.a,{xs:1,className:"image-wrapper",children:Object(m.jsx)("img",{src:e.item.small,alt:"".concat(e.item.symbol," icon"),style:{height:"30px"}})}),Object(m.jsx)(w.a,{className:"my-auto ms-3 me-2",children:e.item.name}),Object(m.jsx)(w.a,{className:"my-auto ms-3 me-2 d-none d-sm-inline-block",children:e.item.symbol}),Object(m.jsx)(w.a,{xs:2,className:"ms-auto me-1 text-info my-auto",title:"".concat(e.item.price_btc),children:Object(m.jsx)("p",{className:"my-auto price-tool-tip","data-tip":!0,"data-for":"trending-".concat(a),children:"$".concat(function(e){var a=Array.from(String(e),Number);a.splice(4);var t=a.shift();return"".concat(t,".").concat(a.slice(1).join(""),"...")}(e.item.price_btc))})}),Object(m.jsx)(C.a,{id:"trending-".concat(a),place:"left",type:"dark",effect:"solid",children:"$ ".concat(e.item.price_btc)})]},a)}));return Object(m.jsxs)(l.a,{fluid:!0,className:"border border-dark rounded-3 p-1 bg-light trends-container",children:[Object(m.jsx)("div",{className:"mb-2 p-1",children:Object(m.jsx)("h6",{className:"my-auto rounded-1 w-auto px-2 py-1",children:"Trending"})}),a]})},S=t(68),L=t(67);var D=function(e){var a=e.news.map((function(e,a){var t=e.keywords,s=e.link,n=e.title,c=e.description,r=e.creator,i=e.pubDate;return Object(m.jsxs)(l.a,{fluid:!0,className:"p-0 d-flex flex-column mb-2 rounded-1 shadow",children:[Object(m.jsx)("div",{className:"ms-auto me-5 px-1 w-auto bg-secondary text-light",children:t?t[0]:"News"}),Object(m.jsx)("div",{className:"p-2",children:Object(m.jsxs)("a",{className:"news-article-link",href:s,children:[Object(m.jsxs)("div",{className:"news-title mb-2",children:[" ",n]}),Object(m.jsx)("div",{className:"mb-2",style:{fontSize:"0.8em"},children:c}),Object(m.jsx)("div",{className:"article-link",style:{fontSize:"0.7em"}}),Object(m.jsxs)("div",{className:"d-flex flex-column",children:[Object(m.jsxs)("div",{className:"d-flex",children:[Object(m.jsx)(L.a,{className:"my-auto me-1"}),Object(m.jsx)("div",{className:"my-auto",style:{fontSize:"0.7em"},children:r})]}),Object(m.jsxs)("div",{className:"d-flex",children:[Object(m.jsx)(S.a,{className:"my-auto me-1"}),Object(m.jsx)("div",{className:"my-auto",style:{fontSize:"0.7em"},children:i})]})]})]})})]},a)}));return Object(m.jsxs)(l.a,{fluid:!0,className:"border border-dark rounded-3 p-1 bg-light news-container",children:[Object(m.jsx)("div",{className:"mb-2 p-1 d-flex",children:Object(m.jsx)("h6",{className:"my-auto rounded-1 w-auto px-2 py-1",children:"News"})}),Object(m.jsx)("div",{children:a})]})},H=t(69),T=t(18);T.d.register(T.f,T.c,T.j,T.l,T.i,T.p,T.q,T.g);var _=function(e){var a,t=function(e){var a=e.map((function(e){var a=new Date(e[0]).toDateString().split(" ").splice(1),t=a.shift();return a.splice(1,0,t),a.join(" ")}));return a}(e.favData&&e.favData),s={labels:t,datasets:[{label:e.coinName,data:(a=e.favData&&e.favData,a.map((function(e){return"".concat(e[1])}))),fill:!0,color:"rgb(255, 99, 132)",borderColor:"rgb(102, 149, 238)",backgroundColor:"rgb(102, 149, 238, 0.2)",yAxisID:"y",pointRadius:0}]};return Object(m.jsx)(l.a,{fluid:!0,className:"border border-dark bg-light rounded-3 w-100 h-50 chart-wrapper p-2",children:Object(m.jsx)(H.a,{className:"chart",options:{responsive:!0,interaction:{mode:"index",intersect:!1},scales:{y:{type:"linear",display:!0,position:"left"}}},data:s})})},z=t(128);var P=function(e){return Object(m.jsx)(l.a,{fluid:!0,className:"p-0",children:Object(m.jsxs)(z.a,{className:"gx-0 bg-primary h-auto",children:[Object(m.jsx)(w.a,{xs:{span:12,order:2},lg:{span:3,order:1},className:"fav-col bg-dark h-auto",children:Object(m.jsx)(k,{currentFav:e.currentFav,favsHandler:e.favsHandler,favs:e.favs,removeFav:e.removeFav})}),Object(m.jsx)(w.a,{xs:{span:12,order:1},lg:{span:9,order:2},className:"h-100 p-0",children:Object(m.jsxs)(l.a,{fluid:!0,className:"h-100 p-0",children:[Object(m.jsx)(z.a,{className:"my-1 px-3 h-75",children:Object(m.jsx)(_,{coinName:e.currentFav?e.currentFav.name:"Select a Coin from the Search Page",favData:e.currentFav?e.currentFav.data.prices:[[0,0],[0,0]]})}),Object(m.jsxs)(z.a,{className:"d-none d-lg-flex gx-2 p-0 h-25 mb-1",children:[Object(m.jsx)(w.a,{className:"h-25 p-0 ps-2",children:Object(m.jsx)(D,{news:e.news})}),Object(m.jsx)(w.a,{className:"pe-2 h-25",children:Object(m.jsx)(F,{trends:e.trends})})]})]})})]})})},E=t(53),A=t(70),B=t(129),I=t(130);function R(e){var a=e.addFav,t=e.favs,n=e.data,c=e.label,r=Object(s.useState)(!1),i=Object(u.a)(r,2),d=i[0],o=i[1],j=function(e,a){return!!e.find((function(e){return e.name===a.name}))};return Object(s.useEffect)((function(){j(t,n)&&o(!1)}),[t]),Object(m.jsx)(l.a,{fluid:!0,className:"p-0 d-flex",children:Object(m.jsx)(I.a,{variant:"outline-info",size:"sm",className:"d-flex mx-auto button-style",onClick:function(){o(!0),a(n)},disabled:j(t,n),children:!d&&j(t,n)?Object(m.jsx)("h5",{className:"p-0 m-0 d-flex mx-auto",children:Object(m.jsx)(A.a,{className:"my-auto mx-auto text-success"})}):d?Object(m.jsx)(B.a,{animation:"border",size:"sm",className:"mx-auto my-auto",variant:"light"}):Object(m.jsx)("p",{className:"mx-auto",children:c})})})}function $(e){var a=e.addFav,t=e.data,s=e.favs,n=t.market_cap_rank,c=t.image,r=t.name,i=t.symbol,d=t.current_price,o=t.price_change_percentage_24h;return Object(m.jsxs)(l.a,{fluid:!0,className:"p-1 d-flex rounded-1 border mb-2",children:[Object(m.jsx)(w.a,{xs:1,sm:1,className:"ps-1 d-flex",children:Object(m.jsx)("p",{className:"my-auto",children:n})}),Object(m.jsx)(w.a,{xs:2,sm:1,children:Object(m.jsx)("img",{className:"mx-auto",src:c,alt:"".concat(r," logo"),style:{height:"30px"}})}),Object(m.jsx)(w.a,{xs:5,sm:3,className:"d-none d-sm-flex",children:Object(m.jsx)("p",{className:"m-auto",children:r})}),Object(m.jsx)(w.a,{xs:5,className:"d-sm-none",children:Object(m.jsx)(R,{data:t,addFav:a,favs:s,label:r})}),Object(m.jsx)(w.a,{sm:1,className:"d-none d-md-inline text-center",children:i}),Object(m.jsx)(w.a,{xs:4,sm:2,className:"text-end text-sm-center my-auto",children:"$ ".concat(function(e){if(e.toString().length>8){var a=Array.from(String(e),Number);a.splice(4);var t=a.shift();return"".concat(t,".").concat(a.slice(1).join(""),"...")}return e}(d))}),Object(m.jsxs)(w.a,{sm:2,className:'d-none d-sm-inline text-sm-center m-auto py-1"\n            '.concat(o>0?"text-success":"text-danger","\n          "),children:[o,o>0?Object(m.jsx)(E.b,{}):Object(m.jsx)(E.a,{})]}),Object(m.jsx)(w.a,{className:"d-none d-sm-inline text-center",children:Object(m.jsx)(R,{data:t,addFav:a,favs:s,label:"Add"})})]})}var q=function(){return Object(m.jsxs)(l.a,{fluid:!0,className:"p-0 d-flex border-bottom border-dark mb-2",children:[Object(m.jsx)(w.a,{xs:1,sm:1,className:"ps-1",children:"Rank"}),Object(m.jsx)(w.a,{xs:2,sm:1,children:Object(m.jsx)("div",{className:"d-none d-sm-inline ps-sm-1",children:"Logo"})}),Object(m.jsx)(w.a,{xs:5,sm:3,className:"text-center",children:"Currency"}),Object(m.jsx)(w.a,{sm:1,className:"d-none d-md-inline ps-md-4",children:"Symbol"}),Object(m.jsx)(w.a,{xs:4,sm:2,className:"text-end text-sm-center pe-1",children:"Price"}),Object(m.jsx)(w.a,{sm:2,className:"d-none d-sm-inline text-sm-center",children:"24h dif"}),Object(m.jsx)(w.a,{sm:2,className:"d-none d-sm-inline text-sm-end text-md-center",children:"Favourite"})]})};function J(e){var a=e.addFav,t=e.pagData,s=e.favs,n=e.data,c=t.map((function(e,t){return Object(m.jsx)($,{data:e,addFav:a,favs:s},t)}));return Object(m.jsx)(l.a,{fluid:!0,className:"border border-dark rounded-1 bg-light p-1",children:0!==n.length?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(q,{}),c]}):"There are no currencies in state that contain that search query"})}var M=t(71),G=t.n(M);var K=function(e){return Object(m.jsx)(l.a,{fluid:!0,className:"p-0 pagination-container",children:Object(m.jsx)(G.a,{pageCount:e.pageCount,onPageChange:function(a){e.clickHandler(a)},marginPagesDisplayed:1,pageRangeDisplayed:10,previousLabel:"prev",nextLabel:"next",breakLabel:"...",containerClassName:"pagination mt-1",previousClassName:"pagination-prev border border-dark",nextClassName:"pagination-next border border-dark ms-1",previousLinkClassName:"pagination-l-n-links",nextLinkClassName:"pagination-l-n-links",pageLinkClassName:"pagination-links",breakClassName:"pag-break",breakLinkClassName:"pag-break-link",pageClassName:"pag-page border border-dark ms-1 rounded-1",activeClassName:"active-pag"})})},Q=t(133),U=t(134);var V=function(e){var a=e.data,t=e.setData,n=e.state,c=e.favs,r=e.addFav,i=e.loading,d=Object(s.useState)(0),o=Object(u.a)(d,2),j=o[0],b=o[1],x=25*j,h=a.slice(x,x+25),f=Math.ceil(a.length/25);return Object(m.jsxs)(l.a,{fluid:!0,className:"p-0 min-vh-100",children:[Object(m.jsx)(z.a,{className:"mt-1 mx-1 d-flex",children:Object(m.jsx)(Q.a,{className:"mb-1 w-100 p-0 border border-dark rounded-2",children:Object(m.jsx)(U.a,{type:"search",className:"search-bar",placeholder:"Search and add currencies",onChange:function(e){return function(e,a){""===e&&t(n),0!==j&&b(0);var s=e.toLowerCase(),c=a.filter((function(e){return e.name.toLowerCase().includes(s)}));return t(c)}(e.target.value,n)}})})}),Object(m.jsxs)(z.a,{className:"mt-1 mx-1 d-flex",children:[Object(m.jsx)(J,{favs:c,addFav:r,loading:i,data:a,pagData:h}),a.length>25&&Object(m.jsx)(K,{pageCount:f,clickHandler:function(e){b(e.selected)}})]})]})};function W(){return Object(m.jsxs)(l.a,{fluid:!0,className:"p-5 d-flex flex-column h-100",children:["There is no page at this url. Click the button to return home. ",Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)(w.a,{className:"border mx-auto",children:Object(m.jsx)(I.a,{variant:"info",href:"/",children:Object(m.jsx)("p",{className:"text-light p-0 m-0",children:"Home"})})})]})}var X=t(72);function Y(){return Object(m.jsxs)(l.a,{fluid:!0,className:"p-5 d-flex flex-column",children:[Object(m.jsx)("p",{className:"mx-auto",children:"There has been an error. Click the button to reset the page. If refreshing the page does not work, you may have to check back later."}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)(w.a,{className:"border mx-auto",children:Object(m.jsx)(I.a,{variant:"info",href:"/",onClick:function(){window.location.reload()},children:Object(m.jsx)("p",{className:"text-light p-0 m-0",children:"Home"})})})]})}function Z(e){var a=e.dashLoading,t=e.favs,s=e.trends,n=e.news,c=e.currentFav,r=e.favsHandler,i=e.removeFav,l=e.state,d=e.data,o=e.setData,j=e.addFav;return a?Object(m.jsx)(N,{}):Object(m.jsx)(X.ErrorBoundary,{FallbackComponent:function(){return Object(m.jsx)(Y,{})},children:Object(m.jsxs)(h.f,{children:[Object(m.jsx)(h.d,{exact:!0,path:"/search",element:Object(m.jsx)(V,{state:l,data:d,setData:o,favs:t,addFav:j})}),Object(m.jsx)(h.d,{exact:!0,path:"/news",element:Object(m.jsx)(D,{news:n})}),Object(m.jsx)(h.d,{exact:!0,path:"/trends",element:Object(m.jsx)(F,{trends:s})}),Object(m.jsx)(h.d,{exact:!0,path:"/",element:Object(m.jsx)(P,{favs:t,currentFav:c,trends:s,favsHandler:r,removeFav:i,news:n})}),Object(m.jsx)(h.d,{path:"*",element:Object(m.jsx)(W,{})})]})})}t(122);var ee=function(){return Object(m.jsxs)(l.a,{fluid:!0,className:"p-0 d-flex flex-column h-100 bg-primary",children:[Object(m.jsx)(b,{}),Object(m.jsx)(p,{routes:Object(m.jsx)(Z,{})})]})},ae=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,135)).then((function(a){var t=a.getCLS,s=a.getFID,n=a.getFCP,c=a.getLCP,r=a.getTTFB;t(e),s(e),n(e),c(e),r(e)}))},te=t(42);r.a.render(Object(m.jsx)(n.a.StrictMode,{children:Object(m.jsx)(te.HashRouter,{children:Object(m.jsx)(ee,{})})}),document.getElementById("root")),ae()}},[[123,1,2]]]);
//# sourceMappingURL=main.080b6776.chunk.js.map